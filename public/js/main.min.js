!function(e){"use strict";var t=e(".validate-input .input100"),n="",a=null,r=io();function i(t){if("email"==e(t).attr("type")||"email"==e(t).attr("name")){if(null==e(t).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/))return!1}else if(""==e(t).val().trim())return!1}function l(t){var n=e(t).parent();e(n).addClass("alert-validate")}r.on("time server",function(t){e("#result").append(JSON.stringify(t,null,2)),e("#result").append("\n")}),r.on("process",function(t){e("#result").append(t.step),e("#result").append(t.out)}),r.on("socket id",function(e){a=e.id,console.log(a)}),e(".validate-form").on("submit",function(r){r.preventDefault();for(var o=!0,s=0;s<t.length;s++)0==i(t[s])&&(l(t[s]),o=!1);return n=e("[name='sentence']").val(),e("[name='sentence']").val(""),e("#result").html(""),function(t,n){if(!n)return n;console.log("ANALYZING...",t),e.ajax({url:"/api",type:"POST",data:{text:t,id:a},contentType:"application/x-www-form-urlencoded",encode:!0,success:function(e){console.log(e),e.result?"HOAX"===e.result?Swal.fire({title:e.result,text:e.message,icon:"error"}):Swal.fire({title:e.result,text:e.message,icon:"success"}):Swal.fire({title:"NOT NEWS",text:e.message,icon:"warning"})},error:function(e){console.error(e)}})}(n,o)}),e(".validate-form .input100").each(function(){e(this).focus(function(){var t;t=e(this).parent(),e(t).removeClass("alert-validate")})})}(jQuery);
